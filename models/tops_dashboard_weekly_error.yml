
version: 2

models:
  - name: tops_dashboard_weekly_stg
    description: "staging table for tops dashboard weekly"
    columns:
      - name: 'testing_srgt_key'
        description: ''
      - name: 'name'
        description: ''
      - name: 'branch'
        description: ''
      - name: 'id'
        description: ''
      - name: 'year'
        description: ''
      - name: 'failure_reason'
        description: 'reason for failed preventive control checks'
        tests:
          - not_null:
                tags: [ 'StructuralUnitTesting','ConstraintUnitTest','UnitTest' ]
      - name: 'processed_file_name'
        description: 'source file-name'
      - name: 'processed_ts'
        description: 'time of ingestion in raw-format'
        tests:
          - fin_commons.datatype:
              accepted_type: TIMESTAMP
              tags: [ 'DatatypeUnitTest','UnitTest' ]
          - fin_commons.partition_column:
              tags: [ 'PartitionUnitTest','UnitTest' ]
          - not_null:
                tags: [ 'StructuralUnitTesting','ConstraintUnitTest','UnitTest' ]
